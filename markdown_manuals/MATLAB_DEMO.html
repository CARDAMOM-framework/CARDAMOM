

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MATLAB demo &mdash; CARDAMOM  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=3ce236e8" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="MCMC overview" href="MCMC_IN_CARDAMOM_OVERVIEW.html" />
    <link rel="prev" title="Using CARDAMOM’s github repository" href="GITHUB_BASICS.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CARDAMOM
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">CARDAMOM Overview:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cardamom_overview/overview.html">CARDAMOM overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cardamom_overview/forward_model.html">Forward model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cardamom_overview/model_data_fusion.html">Model-data fusion</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DALEC Model:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dalec_versions.html">DALEC versions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Model-data fusion framework:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../framework/cost_function.html">Cost function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../framework/observation_operators.html">Observation operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../framework/mcmc.html">MCMC</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using CARDAMOM:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../using_cardamom/file_io.html">File formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_cardamom/compilation.html">Compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_cardamom/analyst_checklist.html">Analyst checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_cardamom/technote.html">Contributing to this technical documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_cardamom/governance.html">CARDAMOM.c governance structure</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Old Markdown Manual:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ADDING_NEW_NETCF_VARIABLES_AND_ATTRIBUTES.html">Adding new netcdf variables and attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="C_MEMORY_LEAKS.html">Diagnose and resolve memory leaks</a></li>
<li class="toctree-l1"><a class="reference internal" href="CARDAMOM_C_developer_guide.html">CARDAMOM C developer guide <a name="cardamom-c-developer-guid"/></a></li>
<li class="toctree-l1"><a class="reference internal" href="CARDAMOM_NETCDF_INPUT_FILE.html">CARDAMOM Netcdf input file</a></li>
<li class="toctree-l1"><a class="reference internal" href="COST_FUNCTION.html">CARDAMOM cost function <a name="cardamom-cost-function"/></a></li>
<li class="toctree-l1"><a class="reference internal" href="DEBUGGING_TIPS.html">Debugging tips and FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="GETTING_STARTED.html">Getting Started with CARDAMOM <a name="-getting-started"/></a></li>
<li class="toctree-l1"><a class="reference internal" href="GITHUB_BASICS.html">Using CARDAMOM’s github repository</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MATLAB demo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#run-matlab-demo">Run Matlab Demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="MCMC_IN_CARDAMOM_OVERVIEW.html">MCMC overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="MODEL_IDs.html">DALEC model IDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="OUTPUT_DATA_ANALYSIS.html">Output Data and Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="PARALLELIZATION.html">Parallelization</a></li>
<li class="toctree-l1"><a class="reference internal" href="PERTURBATION_EXPERIMENTS.html">Perturbation experiments using CARDAMOM outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="PYTHON_DEMO.html">Python demo</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">Copyright</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CARDAMOM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">MATLAB demo</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/markdown_manuals/MATLAB_DEMO.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="matlab-demo">
<h1>MATLAB demo<a class="headerlink" href="#matlab-demo" title="Link to this heading"></a></h1>
<p>Follow these steps <em>once</em>. Once you’ve successfully made it to step 4, you can then start matlab and you’re ready to use all CARDAMOM routines without any further action.
Note: PC implementation not supported (but do add notes if you’ve managed to do this!).</p>
<p><em>What happens when you run CARDAMOM_DEMO:</em> <br />
CARDAMOM_DEMO.m will locally compile the CARDAMOM C code (using “gcc” C compiler). CARDAMOM (called from within matlab) will then show some attempts to find a starting point with probability &gt; 0, and will then start accepting/rejecting parameter samples (note: this is a shorter-than-usual run only for demo purposes). The CARDAMOM_DEMO script will then make a figure with some of the retrieved parameter results. Completion of the CARDAMOM script means all components of CARDAMOM are operational.</p>
<p>Notes:
+ This works great on macs and (theoretically) on linux. I have no idea what happens on Windows.
+ Please report questions and issues encountered in FAQ &amp; FEI section below
+ Works with Matlab 2017b and later versions. Compatibility with earlier versions is likely straightforward.</p>
<section id="run-matlab-demo">
<h2>Run Matlab Demo<a class="headerlink" href="#run-matlab-demo" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Start matlab</p></li>
<li><p>Set CARDAMOM environmental variables in matlab</p>
<ul class="simple">
<li><p>To do this:</p>
<ul>
<li><p>Create or edit existing matlab startup.m file: e.g. type “edit startup.m” in matlab command window to edit new or existing startup file.</p></li>
<li><p>Copy lines from CARDAMOM_2.1.6c/MATLAB/startup_template.m into startup.m file, and adapt as instructed in startup_template.m comments.</p></li>
<li><p>Save changes to startup.m</p></li>
<li><p>Make a directory called “DUMPFILES” by typing “mkdir DUMPFILES” in matlab command window OR type “mkdir DUMFILES” in terminal console (in which case, ensure you are in the desired working directory where startup.m is).</p></li>
</ul>
</li>
<li><p>Tips:</p>
<ul>
<li><p>Type “pwd” right after starting matlab to find out current working directory</p></li>
<li><p>paths in “startup.m” should either be absolute paths, or relative to current working directory</p></li>
<li><p>to avoid github issues, either:</p>
<ul>
<li><p>the current working directory needs to be outside the “CARDAMOM” folder, or equivalent github cloned folder (recommended)</p></li>
<li><p>(b) make a “.gitignore” file and ensure github ignores all user-made files within the “CARDAMOM_2.1.6c” folder.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Quit &amp; restart matlab</p></li>
<li><p>Type “which startup” in matlab command window</p>
<ul class="simple">
<li><p>check matlab is pointing at correct startup.m file</p></li>
<li><p>In case you encounter issues, more info here (https://www.mathworks.com/help/matlab/ref/startup.html)</p></li>
</ul>
</li>
<li><p>Run CARDAMOM_DEMO.</p>
<ul class="simple">
<li><p>This is a test script to ensure all works well. If you get to the end of the demo script, then you’ve got full CARDAMOM functionality!</p></li>
<li><p>Type “CARDAMOM_DEMO” in matlab command window</p></li>
</ul>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="GITHUB_BASICS.html" class="btn btn-neutral float-left" title="Using CARDAMOM’s github repository" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="MCMC_IN_CARDAMOM_OVERVIEW.html" class="btn btn-neutral float-right" title="MCMC overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../copyright.html">Copyright</a> (c) 2024 California Institute of Technology (“Caltech”) and University of Washington. U.S. Government sponsorship acknowledged..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>